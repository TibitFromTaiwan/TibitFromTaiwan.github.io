<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Document</title>
    </head>
    <body>
        <input class="time" type="time" value="00:01" />
        <button class="start-btn">Start</button>
        <button class="stop-btn">Stop</button>
        <p for="" class="alert-content"></p>
    </body>
    <script>
        function timer() {
            var time = new Date()
            return [time.getHours(), time.getMinutes()]
        }
        function calcu_time() {
            var time_end = time.value.split(':').map((x) => +x)
            current_time = timer()
            // console.log(current_time)

            if (time_end[0] == current_time[0] && time_end[1] == current_time[1]) {
                clearInterval(interval)
                alarm_audio.play()
                alert_content.textContent = 'Beep'
            }
        }

        var current_time = timer()
        var start_btn = document.querySelector('.start-btn')
        var stop_btn = document.querySelector('.stop-btn')
        var time = document.querySelector('.time')
        var interval
        var alert_content = document.querySelector('.alert-content')

        var alarm_audio = new Audio('./audio/turret_fizzler_1.wav')
        alarm_audio.loop = true

        stop_btn.addEventListener('click', () => {
            clearInterval(interval)
            alarm_audio.pause()
            alarm_audio.currentTime = 0
            alert_content.textContent = ''
        })
        start_btn.addEventListener('click', () => {
            clearInterval(interval)
            interval = window.setInterval(calcu_time, 1000)
        })
    </script>
    <script src="script.js"></script>
</html>
